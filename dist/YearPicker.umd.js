(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue")):typeof define=="function"&&define.amd?define(["vue"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.YearPicker=o(e.Vue))})(this,function(e){"use strict";const o=(t,r)=>{const a=t.__vccOpts||t;for(const[c,i]of r)a[c]=i;return a},l={props:{year:Number,icon:Object},data(){return{isClickingButton:!1,inputYear:"",selectedYear:null,showYearPicker:!1,perYear:12,currentRange:{start:2020,end:2029}}},mounted(){this.inputYear=this.year},computed:{years(){const{start:t}=this.currentRange;return Array.from({length:this.perYear},(r,a)=>t+a)}},methods:{toTaiwanYear(t){return this.$emit("update:year",t-1911),t-1911},toWesternYear(t){return t+1911},selectYear(t){this.selectedYear=t,this.inputYear=this.toTaiwanYear(t),this.showYearPicker=!1},prevRange(){this.isClickingButton=!0,!(this.currentRange.start<1911)&&(this.currentRange.start-=this.perYear,this.currentRange.end-=this.perYear,setTimeout(()=>this.isClickingButton=!1,200))},nextRange(){this.isClickingButton=!0,this.currentRange.start+=this.perYear,this.currentRange.end+=this.perYear,setTimeout(()=>this.isClickingButton=!1,200)},toggleYearPicker(){this.showYearPicker=!this.showYearPicker},handleBlur(){setTimeout(()=>{this.isClickingButton||(this.showYearPicker=!1)},200);const t=parseInt(this.inputYear);!isNaN(t)&&t>=1&&t<=300?this.selectedYear=this.toWesternYear(t):this.inputYear=""}}},d={class:"year-picker"},h={class:"input-container"},u={key:0,class:"dropdown"},g={class:"range-header"},Y=["disabled"],p=["src"],k={class:"range-title"},m=["src"],f={class:"year-grid"},_=["onClick"];function B(t,r,a,c,i,s){return e.openBlock(),e.createElementBlock("div",d,[e.createElementVNode("div",h,[e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r[0]||(r[0]=n=>i.inputYear=n),type:"text",placeholder:"輸入民國年份或點擊選擇",onFocus:r[1]||(r[1]=n=>i.showYearPicker=!0),onBlur:r[2]||(r[2]=(...n)=>s.handleBlur&&s.handleBlur(...n))},null,544),[[e.vModelText,i.inputYear]])]),i.showYearPicker?(e.openBlock(),e.createElementBlock("div",u,[e.createElementVNode("div",g,[e.createElementVNode("button",{class:"btn bg-transparent",onClick:r[3]||(r[3]=(...n)=>s.prevRange&&s.prevRange(...n)),disabled:i.currentRange.start<1913},[e.createElementVNode("img",{width:"20",src:a.icon.right,alt:""},null,8,p)],8,Y),e.createElementVNode("span",k," 民國 "+e.toDisplayString(s.toTaiwanYear(i.currentRange.start))+" ~ "+e.toDisplayString(s.toTaiwanYear(i.currentRange.end)),1),e.createElementVNode("button",{class:"btn bg-transparent",onClick:r[4]||(r[4]=(...n)=>s.nextRange&&s.nextRange(...n))},[e.createElementVNode("img",{width:"20",src:a.icon.left,alt:""},null,8,m)])]),e.createElementVNode("div",f,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.years,n=>(e.openBlock(),e.createElementBlock("button",{key:n,onClick:R=>s.selectYear(n),class:e.normalizeClass({selected:n===i.selectedYear})},e.toDisplayString(s.toTaiwanYear(n)),11,_))),128))])])):e.createCommentVNode("",!0)])}return o(l,[["render",B],["__scopeId","data-v-d855f566"]])});
